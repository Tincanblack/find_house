import{C as E}from"./CaseBreadcrumb.5050bc79.js";import{i as N,$ as A,S as j,a as z}from"./swiper.min.021089ad.js";import{P as G,N as W}from"./pagination.min.e967a6d3.js";import{s as Z,a as X,b as K,c as U}from"./compareAnchor.ac8caa10.js";import{_ as q,r as f,o as a,c,a as h,f as x,F as D,y as P,q as F,b as e,M as B,N as L,O as R,u as n,t as _,s as T,n as V,d as O,z as $,x as H}from"./index.b5b273c8.js";import{C as J}from"./CaseCardLayout.1673ce3e.js";function Y({swiper:t,extendParams:i,on:u}){i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let v=!1,s=!1;t.thumbs={swiper:null};function S(){const l=t.thumbs.swiper;if(!l||l.destroyed)return;const o=l.clickedIndex,p=l.clickedSlide;if(p&&A(p).hasClass(t.params.thumbs.slideThumbActiveClass)||typeof o>"u"||o===null)return;let m;if(l.params.loop?m=parseInt(A(l.clickedSlide).attr("data-swiper-slide-index"),10):m=o,t.params.loop){let b=t.activeIndex;t.slides.eq(b).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,b=t.activeIndex);const y=t.slides.eq(b).prevAll(`[data-swiper-slide-index="${m}"]`).eq(0).index(),C=t.slides.eq(b).nextAll(`[data-swiper-slide-index="${m}"]`).eq(0).index();typeof y>"u"?m=C:typeof C>"u"?m=y:C-b<b-y?m=C:m=y}t.slideTo(m)}function k(){const{thumbs:l}=t.params;if(v)return!1;v=!0;const o=t.constructor;if(l.swiper instanceof o)t.thumbs.swiper=l.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(N(l.swiper)){const p=Object.assign({},l.swiper);Object.assign(p,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new o(p),s=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",S),!0}function g(l){const o=t.thumbs.swiper;if(!o||o.destroyed)return;const p=o.params.slidesPerView==="auto"?o.slidesPerViewDynamic():o.params.slidesPerView;let m=1;const b=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(m=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),o.slides.removeClass(b),o.params.loop||o.params.virtual&&o.params.virtual.enabled)for(let d=0;d<m;d+=1)o.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+d}"]`).addClass(b);else for(let d=0;d<m;d+=1)o.slides.eq(t.realIndex+d).addClass(b);const y=t.params.thumbs.autoScrollOffset,C=y&&!o.params.loop;if(t.realIndex!==o.realIndex||C){let d=o.activeIndex,r,M;if(o.params.loop){o.slides.eq(d).hasClass(o.params.slideDuplicateClass)&&(o.loopFix(),o._clientLeft=o.$wrapperEl[0].clientLeft,d=o.activeIndex);const I=o.slides.eq(d).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),w=o.slides.eq(d).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();typeof I>"u"?r=w:typeof w>"u"?r=I:w-d===d-I?r=o.params.slidesPerGroup>1?w:d:w-d<d-I?r=w:r=I,M=t.activeIndex>t.previousIndex?"next":"prev"}else r=t.realIndex,M=r>t.previousIndex?"next":"prev";C&&(r+=M==="next"?y:-1*y),o.visibleSlidesIndexes&&o.visibleSlidesIndexes.indexOf(r)<0&&(o.params.centeredSlides?r>d?r=r-Math.floor(p/2)+1:r=r+Math.floor(p/2)-1:r>d&&o.params.slidesPerGroup,o.slideTo(r,l?0:void 0))}}u("beforeInit",()=>{const{thumbs:l}=t.params;!l||!l.swiper||(k(),g(!0))}),u("slideChange update resize observerUpdate",()=>{g()}),u("setTransition",(l,o)=>{const p=t.thumbs.swiper;!p||p.destroyed||p.setTransition(o)}),u("beforeDestroy",()=>{const l=t.thumbs.swiper;!l||l.destroyed||s&&l.destroy()}),Object.assign(t.thumbs,{init:k,update:g})}const Q={components:{Swiper:j,SwiperSlide:z},props:{product:{type:Object,default(){return{}}}},data(){return{thumbsSwiper:null,modules:[Y,G,W]}},methods:{setThumbsSwiper(t){this.thumbsSwiper=t}}},ee={class:"case-slide"};function se(t,i,u,v,s,S){const k=f("SwiperSlide"),g=f("Swiper");return a(),c("div",ee,[h(g,{class:"carousel-slide",navigation:!0,modules:s.modules,thumbs:{swiper:s.thumbsSwiper},pagination:{clickable:!0,type:"fraction"}},{default:x(()=>[(a(!0),c(D,null,P(u.product.imagesUrl,(l,o)=>(a(),F(k,{key:o},{default:x(()=>[e("div",{class:"carousel-slide__image",style:B([{"background-size":"cover","background-position":"center"},{backgroundImage:`url(${l})`}])},null,4)]),_:2},1024))),128))]),_:1},8,["modules","thumbs"]),h(g,{class:"thumbnail-slide",onSwiper:S.setThumbsSwiper,spaceBetween:5,slidesPerView:4.5,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:!0,modules:s.modules,breakpoints:{"@0.00":{slidesPerView:3.5},"@1.50":{slidesPerView:4.5}}},{default:x(()=>[(a(!0),c(D,null,P(u.product.imagesUrl,(l,o)=>(a(),F(k,{class:"slide-item",key:o},{default:x(()=>[e("div",{class:"thumbnail-slide__image",style:B([{"background-size":"cover","background-position":"center"},{backgroundImage:`url(${l})`}])},null,4)]),_:2},1024))),128))]),_:1},8,["onSwiper","slidesPerView","modules","breakpoints"])])}const te=q(Q,[["render",se]]),oe={components:{CaseCard:J},props:{category:{type:String,default(){return""}},id:{type:String,default(){return""}}},data(){return{cases:[]}},mixins:[Z],methods:{getSlideCasesData(t){let i="";t!==""?(i=`https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/products?category=${t}`,this.$http.get(i).then(u=>{const v=u.data.products;this.cases=v.filter(s=>(this.category===""||s.category===this.category)&&s.id!==this.id&&s.is_enabled==1)}).catch(u=>{this.$httpMessageState(u.response,"\u932F\u8AA4\u8A0A\u606F")})):i="https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/products/all"}},watch:{category(){this.getSlideCasesData(this.category)}},mounted(){this.getSlideCasesData(this.category)}};function ie(t,i,u,v,s,S){const k=f("CaseCard"),g=f("SwiperSlide"),l=f("Swiper");return a(),F(l,{class:"list-slide",spaceBetween:20,slidesPerView:3.5,freeMode:!0,navigation:!0,modules:t.swiper.modules,breakpoints:{"@0.00":{slidesPerView:1.25},"@1.50":{slidesPerView:3.75}}},{default:x(()=>[(a(!0),c(D,null,P(s.cases,o=>(a(),F(g,{class:"col-12 col-md-4",key:o.id},{default:x(()=>[h(k,{item:o},null,8,["item"])]),_:2},1024))),128))]),_:1},8,["slidesPerView","modules","breakpoints"])}const ne=q(oe,[["render",ie]]),ae="/found_houses/assets/fakemap.98b8b40d.jpg",le={props:{caseItem:{type:Object,default(){return{}}},center:{type:Object,default(){return{}}}},data(){return{markers:[],mapEnabled:!1}},methods:{initCaseMap(){this.mapEnabled=!0,this.$nextTick(()=>{this.$refs.mapRef.$mapPromise.then(t=>{const i=this.center;t.panTo(i),this.setMapMarker(i)})})},setMapMarker(t){this.markers.push({id:this.caseItem.id,position:t,icon:{url:"https://storage.googleapis.com/vue-course-api.appspot.com/found_houses_v2/1668402620550.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=dd9YH9dXWh6CyoIi3XT%2BbEf868FkSNdNLZTC1YwzE9bsyEU4m%2FWk9WloCPETcaMHnRhVinMN1%2BNvq43z70xRbzmLdXOOjIX8cX6w5mfiRdxIcqtWQi1DtZKT5l3Lds36n5auZPjNPo0BAzfpCIpNNVKD0UNnmfC2GCvjfm6NZZqUn8%2FqsdXAU%2B6ASHnDZ8GKkWSVnLqwzMWzZOKI%2BDeYmpvuDaVlZ1%2FAc4mWVLFbifEm0ct77v6WjESMu54D5LG6MxppVfKKEUeetwLDhWOxqbE9FlblDOx32iXI1cFEWZA%2BZ7R%2F9ahB%2Bwgn8O0Gu0oi6msnjJvLdgSk%2BXe0U%2B9rjA%3D%3D"}})}}},ce={class:"case-location"},re={class:"case-location-feature"},de={class:"case-location-map"},ue=e("button",{type:"button",class:"btn btn-primary case-location-map__overlay-text"}," \u9EDE\u6211\u67E5\u770B\u6848\u4EF6\u4F4D\u7F6E ",-1),me=[ue],pe=e("img",{class:"case-location-map__overlay-image",src:ae,alt:""},null,-1);function he(t,i,u,v,s,S){const k=f("GMapMarker"),g=f("GMapMap");return a(),c("div",ce,[e("div",re,[e("div",de,[s.mapEnabled?(a(),F(g,{key:0,id:"map",ref:"mapRef",center:u.center,zoom:17,"map-type-id":"terrain",style:{width:"100%",height:"300px"},options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}},{default:x(()=>[(a(!0),c(D,null,P(s.markers,l=>(a(),F(k,{key:l.id,position:l.position,icon:l.icon.url},null,8,["position","icon"]))),128))]),_:1},8,["center"])):(a(),c(D,{key:1},[e("div",{class:"case-location-map__overlay",onClick:i[0]||(i[0]=l=>this.initCaseMap())},me),pe],64))])])])}const _e=q(le,[["render",he]]),fe={data(){return{formData:{caseID:"",caseName:"",manager:"",customer:"",gender:"1",contactPhone:"",freeTime:"0",isHandle:!1,dataTime:""},submitBtnLoading:!1}},methods:{fakeItem2Cart(){this.submitBtnLoading=!0;const t={data:{product_id:this.id,qty:1}};this.$http.post("https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/cart/",t).then(()=>{this.fakeItem2Checkout()}).catch(i=>{i.response.status!==200&&this.$swal({icon:"error",text:"\u8ACB\u91CD\u65B0\u5617\u8A66\u6216\u76F4\u63A5\u8AEE\u8A62\u6848\u4EF6\u7D93\u7D00\u4EBA",confirmButtonText:"\u6211\u77E5\u9053\u4E86"})})},fakeItem2Checkout(){const t=this.$moment.moment().unix(),i={data:{user:{address:this.fakeUser.location.city,email:this.fakeUser.email,manager:this.fakeUser.name.first,message:this.formData.freeTime,name:this.formData.customer,gender:this.formData.gender,tel:this.formData.contactPhone,dataTime:t}}};this.$http.post("https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/order",i).then(u=>{const{orderId:v}=u.data;this.submitReserveForm(v)}).catch(u=>{if(u.response.status!==200){let s=u.response.data.message.map(S=>S.replace("name","\u7A31\u547C").replace("tel","\u9023\u7D61\u96FB\u8A71"));s=s.join("\u3001"),this.$swal({icon:"error",title:"\u51FA\u73FE\u932F\u8AA4",text:s,confirmButtonText:"\u6211\u77E5\u9053\u4E86"})}})},submitReserveForm(t){const i=this.$moment.moment().unix();this.formData.caseID=t,this.formData.caseName=this.product.title,this.formData.manager=this.fakeUser.name.first,this.formData.dataTime=i,this.$http.post("https://script.google.com/macros/s/AKfycbxftWfxvDnCeDfSU1HZn-msTWyzvxjo3SWC5gPCQkD3y-K1e9ocdZgtxxra2fn7Z78X/exec",null,{params:this.formData}).then(u=>{this.submitBtnLoading=!1,u.data.success!==!0&&this.$swal({icon:"error",title:"\u51FA\u73FE\u932F\u8AA4",text:"\u8ACB\u91CD\u65B0\u5617\u8A66\u6216\u76F4\u63A5\u8AEE\u8A62\u6848\u4EF6\u7D93\u7D00\u4EBA",confirmButtonText:"\u6211\u77E5\u9053\u4E86"}).then(()=>(this.$refs.reserveForm.resetForm(),this.formData.freeTime=0,!1)),this.$swal({icon:"success",title:"\u8B1D\u8B1D\uFF01\u6211\u5011\u5C07\u76E1\u5FEB\u8207\u60A8\u806F\u7E6B",text:`\u60A8\u7684\u8AEE\u8A62\u8868\u55AEID\u70BA\uFF1A${t}`,confirmButtonText:"\u6211\u77E5\u9053\u4E86"}).then(()=>{this.$refs.reserveForm.resetForm(),this.formData.freeTime=0})})}}},ge="/found_houses/assets/male_avatar_icon.b8db6d3f.svg",be="/found_houses/assets/female_avatar_icon.84149c60.svg",ve={components:{CaseBreadcrumb:E,CasePreviewSlide:te,CasesSlide:ne,GoogleMaps:_e},data(){return{isLoading:!1,cases:[],collectionCases:[],product:{},category:"",id:"",fakeUser:{},center:{lat:0,lng:0},markers:[]}},mixins:[X,K,fe],methods:{...L(U,["goCompareAnchor"]),...L(U,["clickCompareAnchor"]),getCaseData(){this.isLoading=!0;const{id:t}=this.$route.params;this.$http.get(`https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/product/${t}`).then(i=>{this.product=i.data.product,this.category=i.data.product.category,this.center=this.formatCaseLocation(),this.isLoading=!1}).catch(i=>{this.$httpMessageState(i.response,"\u932F\u8AA4\u8A0A\u606F")})},getFakeUserData(){this.$http.get("https://randomuser.me/api/?nat=us,ch").then(t=>{this.fakeUser=t.data.results[0]}).catch(t=>{this.$swal({icon:"error",title:`${t.response.statusText}`})})},loadSotrageCase(){localStorage.getItem("collection_case")&&(this.collectionCases=JSON.parse(localStorage.getItem("collection_case"))),localStorage.getItem("compare_case")&&(this.compareCases=JSON.parse(localStorage.getItem("compare_case")))},formatCaseLocation(){const t=this.product.location.split(",");return{lat:parseFloat(t[0]),lng:parseFloat(t[1])}},validatePhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"\u8ACB\u8F38\u5165\u6B63\u78BA\u683C\u5F0F\u7684\u624B\u6A5F\u865F\u78BC"}},computed:{...R(U,["toAnchor"])},watch:{$route(){this.id=this.$route.params.id,this.$route.params.id!==void 0&&this.getCaseData()}},mounted(){this.id=this.$route.params.id,this.getCaseData(),this.getFakeUserData(),this.loadSotrageCase()}},ke={class:"site-content"},ye={class:"case py-3"},Ce={class:"case-header"},Se={class:"container"},xe={class:"case-header-inner"},we={class:"case-header-title"},De={class:"case-header__title"},Fe={class:"case-header__subtitle"},Ie={class:"case-price text-end"},Te={class:"d-flex align-items-center flex-column flex-lg-row"},Pe={key:0,class:"case-header-tag"},Ve={class:"badge color-secondary tag__element--sec"},qe=e("i",{class:"bi bi-arrow-down"},null,-1),Me={key:1,class:"price price__selling text-secondary"},Ue={key:0,class:"price price__origin fs-6"},Ae={class:"case-tag"},Be={class:"case-content mb-3"},Le={class:"container"},Oe={class:"row"},Ee={class:"col-12 col-lg-8"},Ne=e("div",{class:"case-slide"},[e("div",{class:"case-slide-footer my-1"},[e("i",{class:"bi bi-exclamation-circle-fill text-secondary"}),e("span",{class:"slide-footer-notice"}," \u8ACB\u7559\u610F\uFF01\u4EE5\u4E0A\u7167\u7247\u82E5\u70BA\u8857\u666F\uFF0C\u70BA\u7269\u4EF6\u9644\u8FD1\u74B0\u5883\u4ECB\u7D39\uFF0C\u975E\u520A\u767B\u7269\u4EF6\u672C\u8EAB\u3002")])],-1),je={class:"case-detail mt-3 d-none d-lg-block"},ze={class:"case-detail-section",id:"info"},Ge=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title"},"\u57FA\u672C\u8CC7\u6599")],-1),We={class:"case-detail-content"},Ze={class:"table border info-table info-table--detail"},Xe=e("td",null,"\u985E\u578B",-1),Ke=e("td",null,"\u767B\u8A18\u5EFA\u576A",-1),Re=e("td",null,"\u4E3B\u5EFA\u7269",-1),$e=e("td",null,"\u516C\u8A2D\u6BD4",-1),He={key:0},Je={key:1},Ye=e("td",null,"\u5C4B\u9F61",-1),Qe=e("td",null,"\u683C\u5C40",-1),es=e("td",null,"\u6A13\u5C64",-1),ss=e("td",null,"\u671D\u5411",-1),ts={key:0},os={key:1},is=e("td",null,"\u516C\u5171\u7BA1\u7406\u8CBB",-1),ns={key:0},as={key:1},ls=e("td",null,"\u8ECA\u4F4D",-1),cs={key:0},rs={key:0},ds={key:1},us={class:"case-detail-section",id:"detail"},ms=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title"},"\u7269\u4EF6\u7279\u8272")],-1),ps={class:"detail-content"},hs={class:"col-12 col-lg-4 ms-auto"},_s={class:"case-aside d-none d-lg-block"},fs={class:"case-aside-list list-group"},gs={class:"info-list-item"},bs=e("span",{class:"info-list-title"},[e("i",{class:"bi bi-bounding-box-circles info-list-title__icon fs-4"}),_(" \u5EFA\u7269\u767B\u8A18 ")],-1),vs={class:"info-list-item"},ks=e("span",{class:"info-list-title"},[e("i",{class:"bi bi-house info-list-title__icon fs-4"}),_(" \u5C4B\u9F61 ")],-1),ys={class:"info-list-item"},Cs=e("span",{class:"info-list-title"},[e("i",{class:"bi bi-columns-gap info-list-title__icon fs-4"}),_(" \u683C\u5C40 ")],-1),Ss={class:"info-list-item"},xs=e("span",{class:"info-list-title"},[e("i",{class:"bi bi-bar-chart info-list-title__icon fs-4"}),_(" \u6A13\u5C64 ")],-1),ws={class:"case-manager"},Ds={class:"manager card shadow-sm mb-3"},Fs={class:"card-body"},Is=e("h4",{class:"manager__title"},"\u60A8\u7684\u6848\u4EF6\u7D93\u7406\u4EBA",-1),Ts={class:"d-flex align-items-center my-3"},Ps={class:"manager__image me-2"},Vs={key:0,src:ge,alt:"",width:"70",height:"70"},qs={key:1,class:"img-fluid",src:be,alt:"",width:"70",height:"70"},Ms={class:"card-content"},Us={class:"card-subtitle"},As=e("i",{class:"bi bi-person fs-5 manager__icon"},null,-1),Bs={class:"card-text"},Ls=e("i",{class:"bi bi-phone fs-5 manager__icon"},null,-1),Os=["href"],Es={class:"card-text"},Ns=e("i",{class:"bi bi-telephone fs-5 manager__icon"},null,-1),js=["href"],zs={class:"mb-3 position-relative"},Gs={class:"row row-cols-lg-auto g-3 align-items-center"},Ws={class:"col",style:{flex:"1"}},Zs={class:"col"},Xs={class:"form-check form-check-inline"},Ks=e("label",{class:"form-check-label",for:"male"},"\u5148\u751F",-1),Rs={class:"form-check form-check-inline"},$s=e("label",{class:"form-check-label",for:"female"},"\u5C0F\u59D0",-1),Hs={class:"mb-3 position-relative"},Js={class:"mb-3"},Ys=e("option",{value:"0"}," \u806F\u7D61\u6642\u9593\uFF1A\u7686\u53EF(9:00-21:00) ",-1),Qs=e("option",{value:"1"}," \u806F\u7D61\u6642\u9593\uFF1A\u4E0A\u5348(9:00-12:00) ",-1),et=e("option",{value:"2"}," \u806F\u7D61\u6642\u9593\uFF1A\u4E2D\u5348(12:00-14:00) ",-1),st=e("option",{value:"3"}," \u806F\u7D61\u6642\u9593\uFF1A\u4E0B\u5348(14:00-18:00) ",-1),tt=e("option",{value:"4"}," \u806F\u7D61\u6642\u9593\uFF1A\u665A\u4E0A(18:00-21:00) ",-1),ot=[Ys,Qs,et,st,tt],it={class:"case-aside-action"},nt={type:"submit",class:"case-aside-action__button btn btn-primary w-100"},at=e("i",{class:"bi bi-pencil-square"},null,-1),lt={class:"spinner-border spinner-border-sm"},ct={class:"case-detail mt-3 d-block d-lg-none"},rt={class:"case-detail-section",id:"info"},dt=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title"},"\u57FA\u672C\u8CC7\u6599")],-1),ut={class:"case-detail-content"},mt={class:"table border info-table info-table--detail"},pt=e("td",null,"\u985E\u578B",-1),ht=e("td",null,"\u767B\u8A18\u5EFA\u576A",-1),_t=e("td",null,"\u4E3B\u5EFA\u7269",-1),ft=e("td",null,"\u516C\u8A2D\u6BD4",-1),gt={key:0},bt={key:1},vt=e("td",null,"\u5C4B\u9F61",-1),kt=e("td",null,"\u683C\u5C40",-1),yt=e("td",null,"\u6A13\u5C64",-1),Ct=e("td",null,"\u671D\u5411",-1),St={key:0},xt={key:1},wt=e("td",null,"\u516C\u5171\u7BA1\u7406\u8CBB",-1),Dt={key:0},Ft={key:1},It=e("td",null,"\u8ECA\u4F4D",-1),Tt={key:0},Pt={key:0},Vt={key:1},qt={class:"case-detail-section",id:"detail"},Mt=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title"},"\u7269\u4EF6\u7279\u8272")],-1),Ut={class:"detail-content"},At={class:"row"},Bt={class:"case-detail-section",id:"near"},Lt=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title"},"\u5730\u7406\u4F4D\u7F6E")],-1),Ot={class:"case-related bg-light py-5"},Et={class:"container"},Nt=e("div",{class:"case-detail-header"},[e("h4",{class:"common-section-header__title bg-light"},"\u70BA\u60A8\u63A8\u85A6")],-1);function jt(t,i,u,v,s,S){var C;const k=f("LoadingComponent"),g=f("CaseBreadcrumb"),l=f("CasePreviewSlide"),o=f("VField"),p=f("ErrorMessage"),m=f("VForm"),b=f("GoogleMaps"),y=f("CasesSlide");return a(),c("div",ke,[h(k,{isLoading:s.isLoading},null,8,["isLoading"]),h(g,{product:s.product},null,8,["product"]),e("section",ye,[e("div",Ce,[e("div",Se,[e("div",xe,[e("div",we,[e("h2",De,n(s.product.title),1),e("h6",Fe,n(s.product.description),1)]),e("div",Ie,[e("div",Te,[s.product.origin_price!==s.product.price?(a(),c("div",Pe,[e("span",Ve,[qe,_(" "+n(t.$format.calToPercent(s.product.origin_price,s.product.price,"discount")),1)])])):T("",!0),s.product.price?(a(),c("h2",Me,n(t.$format.currencyFormat(s.product.price))+"\u842C ",1)):T("",!0)]),s.product.origin_price&&s.product.origin_price!==s.product.price?(a(),c("div",Ue,[e("del",null,n(t.$format.currencyFormat(s.product.origin_price))+"\u842C ",1)])):T("",!0)])]),e("div",Ae,[(a(!0),c(D,null,P(s.product.tags,d=>(a(),c("span",{class:"badge tag tag__element tag__element--main",key:d},n(d),1))),128))])])]),e("div",Be,[e("div",Le,[e("div",Oe,[e("div",Ee,[h(l,{product:s.product},null,8,["product"]),Ne,e("div",je,[e("div",ze,[Ge,e("div",We,[e("table",Ze,[e("tbody",null,[e("tr",null,[Xe,e("td",null,n(s.product.category),1)]),e("tr",null,[Ke,e("td",null,n(s.product.squareFeet)+" \u576A ",1)]),e("tr",null,[Re,e("td",null,n(s.product.mainSquareFeet)+" \u576A ",1)]),e("tr",null,[$e,s.product.squareFeet!==s.product.mainSquareFeet&&s.product.managementFee>0?(a(),c("td",He,n(t.$format.calToPercent(s.product.squareFeet,s.product.mainSquareFeet,"management")),1)):(a(),c("td",Je,"--"))]),e("tr",null,[Ye,e("td",null,n(s.product.houseAge)+" \u5E74 ",1)]),e("tr",null,[Qe,e("td",null,n(t.$format.patternFormat(s.product.pattern)),1)]),e("tr",null,[es,e("td",null,n(s.product.floor)+" \u6A13",1)]),e("tr",null,[ss,s.product.direction?(a(),c("td",ts,n(s.product.direction),1)):(a(),c("td",os,"--"))]),e("tr",null,[is,s.product.managementFee>0?(a(),c("td",ns,n(s.product.managementFee)+" \u5143/ \u6BCF\u6708 ",1)):(a(),c("td",as,"--"))]),e("tr",null,[ls,s.product.parking?(a(),c("td",cs,[_(n(s.product.parking)+" ",1),s.product.parkingPrice>0?(a(),c("span",rs,"(\u8ECA\u4F4D "+n(s.product.parkingPrice)+"\u842C)",1)):T("",!0)])):(a(),c("td",ds,"--"))])])])])]),e("div",us,[ms,e("div",ps,n(s.product.content),1)])])]),e("div",hs,[e("div",_s,[e("ul",fs,[e("li",gs,[bs,_(" "+n(s.product.squareFeet)+"\u576A ",1)]),e("li",vs,[ks,_(" "+n(s.product.houseAge)+"\u5E74 ",1)]),e("li",ys,[Cs,_(" "+n(t.$format.patternFormat(s.product.pattern)),1)]),e("li",Ss,[xs,_(" "+n(s.product.floor)+"\u6A13 ",1)])])]),e("div",ws,[e("div",Ds,[e("div",Fs,[Is,e("div",Ts,[e("div",Ps,[s.fakeUser.gender==="male"?(a(),c("img",Vs)):(a(),c("img",qs))]),e("div",Ms,[e("h6",Us,[As,_(n((C=s.fakeUser.name)==null?void 0:C.first),1)]),e("div",Bs,[Ls,e("a",{href:`tel:${s.fakeUser.cell}`},n(s.fakeUser.cell),9,Os)]),e("div",Es,[Ns,e("a",{href:`tel:${s.fakeUser.phone}`},n(s.fakeUser.phone),9,js)])])]),h(m,{id:"reserveForm",ref:"reserveForm",onSubmit:t.fakeItem2Cart},{default:x(({errors:d})=>[e("div",zs,[e("div",Gs,[e("div",Ws,[h(o,{type:"text",class:V(["form-control",{"is-invalid":d.\u7A31\u547C}]),autocomplete:"off",placeholder:"\u5982\u4F55\u7A31\u547C",modelValue:t.formData.customer,"onUpdate:modelValue":i[0]||(i[0]=r=>t.formData.customer=r),name:"\u7A31\u547C",rules:"required"},null,8,["class","modelValue"]),h(p,{name:"\u7A31\u547C",class:"invalid-tooltip"})]),e("div",Zs,[e("div",Xs,[h(o,{type:"radio",class:"form-check-input",id:"male",modelValue:t.formData.gender,"onUpdate:modelValue":i[1]||(i[1]=r=>t.formData.gender=r),value:"1",name:"\u6027\u5225",rules:"required"},null,8,["modelValue"]),Ks]),e("div",Rs,[h(o,{type:"radio",class:"form-check-input",id:"female",modelValue:t.formData.gender,"onUpdate:modelValue":i[2]||(i[2]=r=>t.formData.gender=r),value:"0",name:"\u6027\u5225",rules:"required"},null,8,["modelValue"]),$s])])])]),e("div",Hs,[h(o,{type:"tel",class:V(["form-control",{"is-invalid":d.contactPhone}]),autocomplete:"off",placeholder:"\u9023\u7D61\u96FB\u8A71 Ex: 0987654321...",name:"contactPhone",modelValue:t.formData.contactPhone,"onUpdate:modelValue":i[3]||(i[3]=r=>t.formData.contactPhone=r),rules:S.validatePhone,maxlength:"10"},null,8,["modelValue","class","rules"]),h(p,{name:"contactPhone",class:"invalid-tooltip"})]),e("div",Js,[O(e("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":i[4]||(i[4]=r=>t.formData.freeTime=r)},ot,512),[[$,t.formData.freeTime]])]),e("div",it,[e("button",nt,[at,_(" \u9810\u7D04\u8AEE\u8A62 "),O(e("span",lt,null,512),[[H,t.submitBtnLoading]])]),e("button",{type:"button",class:"case-aside-action__button btn btn-secondary w-100",onClick:i[5]||(i[5]=r=>t.handleCollectionCase(s.product.id))},[e("i",{class:V(["bi",s.collectionCases.includes(s.product.id)?"bi-bookmark-x":"bi-bookmark-heart"])},null,2),_(" "+n(s.collectionCases.includes(s.product.id)?"\u53D6\u6D88":"\u52A0\u5165")+"\u6536\u85CF ",1)]),e("button",{type:"button",class:"case-aside-action btn btn-success w-100 text-white",onClick:i[6]||(i[6]=r=>t.handleCompareCase(s.product.id))},[e("i",{class:V(["bi",t.compareCases.includes(s.product.id)?"bi-file-x":"bi-files"])},null,2),_(" "+n(t.compareCases.includes(s.product.id)?"\u53D6\u6D88":"\u52A0\u5165")+"\u6BD4\u8F03 ",1)])])]),_:1},8,["onSubmit"])])])]),e("div",ct,[e("div",rt,[dt,e("div",ut,[e("table",mt,[e("tbody",null,[e("tr",null,[pt,e("td",null,n(s.product.category),1)]),e("tr",null,[ht,e("td",null,n(s.product.squareFeet)+" \u576A ",1)]),e("tr",null,[_t,e("td",null,n(s.product.mainSquareFeet)+" \u576A ",1)]),e("tr",null,[ft,s.product.squareFeet!==s.product.mainSquareFeet&&s.product.managementFee>0?(a(),c("td",gt,n(t.$format.calToPercent(s.product.squareFeet,s.product.mainSquareFeet,"management")),1)):(a(),c("td",bt,"--"))]),e("tr",null,[vt,e("td",null,n(s.product.houseAge)+" \u5E74 ",1)]),e("tr",null,[kt,e("td",null,n(t.$format.patternFormat(s.product.pattern)),1)]),e("tr",null,[yt,e("td",null,n(s.product.floor)+" \u6A13",1)]),e("tr",null,[Ct,s.product.direction?(a(),c("td",St,n(s.product.direction),1)):(a(),c("td",xt,"--"))]),e("tr",null,[wt,s.product.managementFee||s.product.managementFee>0?(a(),c("td",Dt,n(s.product.managementFee)+" \u5143/ \u6BCF\u6708 ",1)):(a(),c("td",Ft,"--"))]),e("tr",null,[It,s.product.parking?(a(),c("td",Tt,[_(n(s.product.parking)+" ",1),s.product.parkingPrice>0?(a(),c("span",Pt,"(\u8ECA\u4F4D "+n(s.product.parkingPrice)+"\u842C)",1)):T("",!0)])):(a(),c("td",Vt,"--"))])])])])]),e("div",qt,[Mt,e("div",Ut,n(s.product.content),1)])])])]),e("div",At,[e("div",Bt,[Lt,h(b,{center:s.center,caseItem:s.product},null,8,["center","caseItem"])])])])])]),e("section",Ot,[e("div",Et,[Nt,h(y,{category:s.category,cases:s.cases,id:s.id},null,8,["category","cases","id"])])])])}const Rt=q(ve,[["render",jt]]);export{Rt as default};
