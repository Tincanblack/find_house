import{C as P}from"./CaseCardLayout.aefe7dbf.js";import{s as v,a as w,b as L,c as b}from"./compareAnchor.252e58ed.js";import{_ as F,N as S,O as x,r as u,o as s,c as o,a as _,b as e,F as l,t as d,s as h,f as m,n as V,y as r,q,u as a}from"./index.ff00c348.js";import"./swiper.min.fcf740ed.js";import"./pagination.min.a73fa683.js";const D={components:{CaseCard:P},data(){return{isLoading:!1,cardLoading:!1,cases:[],collectionProducts:[],compareCaseProducts:[]}},mixins:[v,w,L],methods:{...S(b,["goCompareAnchor"]),getCaseList(){this.isLoading=!0;let c="https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/products/all";this.$http.get(c).then(i=>{this.cases=i.data.products,this.filterCollectionCase(),this.filterCompareCase(),this.isLoading=!1}).catch(i=>{this.$httpMessageState(i.response,"\u932F\u8AA4\u8A0A\u606F")})},filterCollectionCase(){this.collectionCases.forEach(c=>{const i=this.cases.filter(p=>p.id===c);this.collectionProducts.push(i[0])})},filterCompareCase(){this.compareCases.forEach(c=>{const i=this.cases.filter(p=>p.id===c);this.compareCaseProducts.push(i[0])})}},computed:{...x(b,["toAnchor"])},watch:{collectionCases:{handler(){this.collectionProducts=[],this.filterCollectionCase()},deep:!0},compareCases:{handler(){this.compareCaseProducts=[],this.filterCompareCase()},deep:!0}},mounted(){this.getCaseList()}},E={class:"site-content"},A=e("section",{class:"collection-banner d-flex align-items-center justify-content-center"},[e("h2",{class:"collection-banner__title"},"\u5FC3\u4E4B\u6240\u5411\uFF0C\u5100\u4E4B\u6240\u5F80")],-1),B={class:"collection pt-5 pb-3"},N={class:"container"},H={class:"row"},j={class:"col-12"},M={class:"section-header mb-3"},R=e("h3",{class:"common-section-header__title"},"\u6536\u85CF\u6848\u4EF6",-1),T={class:"button-column bg-white"},z=e("i",{class:"bi bi bi-x-lg"},null,-1),O={key:1,class:"row align-items-center justify-content-center text-center"},U={class:"col"},G=e("h3",{class:"collection-content__title"}," \u9084\u6C92\u770B\u5230\u503C\u5F97\u6536\u85CF\u7684\u7269\u4EF6\u55CE\uFF1F\u5FEB\u53BB\u627E\u627E\u5427 ",-1),I=e("i",{class:"bi bi-house"},null,-1),J={key:0,class:"compare pt-5 pb-3 bg-light",id:"caseCompare"},K={class:"container"},Q={class:"row"},W={class:"mx-0 mx-md-auto col-12 col-md-8"},X={class:"section-header mb-3"},Y={key:0,class:"common-section-header__title"},Z=e("span",{class:"fs-3 text-danger"},"1",-1),$=e("span",{class:"d-block d-md-inline-block"},"\u6848\u4EF6\u5C31\u80FD\u300C\u6848\u4EF6\u6BD4\u8F03\u300D",-1),ee={key:1,class:"common-section-header__title"},te={class:"button-column bg-light"},se=e("i",{class:"bi bi bi-x-lg"},null,-1),oe={class:"row"},ne={class:"table-responsive"},le={key:0,class:"table border table-bordered table-hover info-table info-table--compare bg-white"},ce=e("td",{class:"align-middle"},"\u6848\u4EF6\u540D\u7A31",-1),re={class:"d-flex justify-content-between"},ae={class:"compare-table__title"},ie=["onClick"],de=e("i",{class:"bi bi-x-lg"},null,-1),ue=[de],_e=e("td",null,null,-1),he={class:"compare-table-img"},pe=["src"],me=e("td",{class:"align-middle"},"\u50F9\u683C",-1),Ce={class:"fs-3 fw-bold text-danger"},be=e("td",null,"\u985E\u578B",-1),ge=e("td",null,"\u767B\u8A18\u5EFA\u576A",-1),ke=e("td",null,"\u4E3B\u5EFA\u7269",-1),fe=e("td",null,"\u516C\u8A2D\u6BD4",-1),ye={key:0},Pe={key:1},ve=e("td",null,"\u5C4B\u9F61",-1),we=e("td",null,"\u683C\u5C40",-1),Le=e("td",null,"\u6A13\u5C64",-1),Fe=e("td",null,"\u671D\u5411",-1),Se={key:0},xe={key:1},Ve=e("td",null,"\u516C\u5171\u7BA1\u7406\u8CBB",-1),qe={key:0},De={key:1},Ee=e("td",null,"\u8ECA\u4F4D",-1),Ae={key:0},Be={key:0},Ne={key:1};function He(c,i,p,je,n,Me){const g=u("LoadingComponent"),k=u("CaseCard"),f=u("SwiperSlide"),y=u("Swiper"),C=u("RouterLink");return s(),o("div",E,[_(g,{isLoading:n.isLoading},null,8,["isLoading"]),A,e("section",B,[e("div",N,[n.collectionProducts.length>0?(s(),o(l,{key:0},[e("div",H,[e("div",j,[e("div",M,[R,e("div",T,[n.collectionProducts.length>0?(s(),o("button",{key:0,type:"button",class:"btn btn-danger btn-sm collection-clear__button",onClick:i[0]||(i[0]=(...t)=>c.clearCollectionData&&c.clearCollectionData(...t))},[z,d(" \u6E05\u9664\u6240\u6709 ")])):h("",!0)])])])]),_(y,{class:"list-slide",navigation:!0,spaceBetween:20,slidesPerView:3.5,modules:c.swiper.modules,breakpoints:{"@0.00":{slidesPerView:1.25},"@1.50":{slidesPerView:3.75}}},{default:m(()=>[(s(!0),o(l,null,r(n.collectionProducts,t=>(s(),q(f,{key:t.id},{default:m(()=>[_(k,{item:t,compareCases:c.compareCases,onEmitHandleCollection:c.handleCollectionCase,onEmitHandleCompare:c.handleCompareCase},null,8,["item","compareCases","onEmitHandleCollection","onEmitHandleCompare"])]),_:2},1024))),128))]),_:1},8,["slidesPerView","modules","breakpoints"])],64)):(s(),o("div",O,[e("div",U,[G,_(C,{class:"btn btn-outline-primary rounded-0 collection-content__button my-3",to:"/cases"},{default:m(()=>[d("\u524D\u53BB\u627E\u623F "),I]),_:1})])]))])]),n.compareCaseProducts.length!==0?(s(),o("section",J,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[n.compareCaseProducts.length<2?(s(),o("h3",Y,[d(" \u518D\u52A0\u5165 "),Z,d("\u500B"),$])):(s(),o("h3",ee,"\u6848\u4EF6\u6BD4\u8F03\u7684\u7D50\u679C\u5982\u4E0B")),e("div",te,[n.compareCaseProducts.length!==0?(s(),o("button",{key:0,type:"button",class:"btn btn-danger btn-sm collection-clear__button",onClick:i[1]||(i[1]=(...t)=>c.clearCompareData&&c.clearCompareData(...t))},[se,d(" \u6E05\u9664\u6240\u6709 ")])):h("",!0)])])])]),e("div",oe,[e("div",{class:V(["mx-0 mx-md-auto",n.compareCaseProducts.length===2?"col-12 col-md-8":"col-12 col-md-5"])},[e("div",ne,[n.compareCaseProducts.length!==0?(s(),o("table",le,[e("tbody",null,[e("tr",null,[ce,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},[e("div",re,[e("div",ae,a(t.title),1),e("button",{type:"button",class:"compare-table__button btn btn-danger btn-sm",onClick:Re=>c.handleCompareCase(t.id)},ue,8,ie)])]))),128))]),e("tr",null,[_e,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id,class:"text-center"},[_(C,{class:"compare-table__link",to:`/case/${t.id}`},{default:m(()=>[e("div",he,[e("img",{class:"img-fluid",src:t.imageUrl,alt:""},null,8,pe)])]),_:2},1032,["to"])]))),128))]),e("tr",null,[me,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},[e("span",Ce,a(c.$format.currencyFormat(t.price)),1),d(" \u842C ")]))),128))]),e("tr",null,[be,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(t.category),1))),128))]),e("tr",null,[ge,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(t.squareFeet)+" \u576A ",1))),128))]),e("tr",null,[ke,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(t.mainSquareFeet)+" \u576A ",1))),128))]),e("tr",null,[fe,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o(l,{key:t.id},[t.squareFeet!==t.mainSquareFeet?(s(),o("td",ye,a(c.$format.calToPercent(t.squareFeet,t.mainSquareFeet,"management")),1)):(s(),o("td",Pe,"--"))],64))),128))]),e("tr",null,[ve,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(t.houseAge)+" \u5E74 ",1))),128))]),e("tr",null,[we,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(c.$format.patternFormat(t.pattern)),1))),128))]),e("tr",null,[Le,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o("td",{key:t.id},a(t.floor)+" \u6A13",1))),128))]),e("tr",null,[Fe,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o(l,{key:t.id},[t.direction?(s(),o("td",Se,a(t.direction),1)):(s(),o("td",xe,"--"))],64))),128))]),e("tr",null,[Ve,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o(l,{key:t.id},[t.managementFee||t.managementFee>0?(s(),o("td",qe,a(t.managementFee)+" \u5143/ \u6BCF\u6708 ",1)):(s(),o("td",De,"--"))],64))),128))]),e("tr",null,[Ee,(s(!0),o(l,null,r(n.compareCaseProducts,t=>(s(),o(l,{key:t.id},[t.parking?(s(),o("td",Ae,[d(a(t.parking)+" ",1),t.parkingPrice>0?(s(),o("span",Be,"(\u8ECA\u4F4D "+a(t.parkingPrice)+"\u842C)",1)):h("",!0)])):(s(),o("td",Ne,"--"))],64))),128))])])])):h("",!0)])],2)])])])):h("",!0)])}const Ie=F(D,[["render",He]]);export{Ie as default};
