import{A as N}from"./AdminBreadcrumb.48d4e000.js";import{m as D,P as q,D as A}from"./DelConfirmModal.48365460.js";import{_ as V,o as i,c as d,b as e,n as w,d as l,x as y,v as m,s as g,F as L,y as R,z as U,A as r,B as k,t as n,e as M,r as p,a as h,f as x,u as f}from"./index.e3b56f33.js";import"./base-component.4dd6a6e5.js";const E={props:{product:{type:Object,default(){return{category:"",tags:[],unit:"\u576A",direction:"",location:{lat:"",lng:""}}}},isNew:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},data(){return{imageUploadType:"url",status:{},modal:"",targetCase:{}}},emits:["update-product"],mixins:[D],inject:["emitter"],methods:{uploadFile(){const c=this.$refs.fileInput.files[0],s=new FormData;s.append("file-to-upload",c),this.status.fileUploading=!0,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(b=>{this.status.fileUploading=!1,b.data.success?(this.targetCase.imageUrl=b.data.imageUrl,this.$refs.fileInput.value="",this.$httpMessageState(b,"\u5716\u7247\u4E0A\u50B3\u7D50\u679C",b.data.message)):(this.$refs.fileInput.value="",this.$httpMessageState(b,"\u5716\u7247\u4E0A\u50B3\u7D50\u679C",b.data.message))}).catch(b=>{this.status.fileUploading=!1,this.$httpMessageState(b.response,"\u5716\u7247\u5931\u6557")})}},watch:{product(){this.targetCase=this.product,this.targetCase.imagesUrl||(this.targetCase.imagesUrl=[],this.targetCase.tags=[]),this.targetCase.imageUrl||(this.targetCase.imageUrl="")},targetCase:{handler(){this.targetCase.squareFeet===this.targetCase.mainSquareFeet&&(this.targetCase.managementFee=0)},deep:!0}}},I={class:"modal fade",id:"productModal",ref:"modal"},O={class:"modal-dialog modal-xl",role:"document"},G={class:"modal-content border-0"},H={class:"modal-header bg-dark text-white"},W={class:"modal-title",id:"exampleModalLabel"},j={key:0},z={key:1},J=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),K={class:"modal-body"},Q={class:"row"},X={class:"col-sm-4"},Y={class:"mb-3"},Z={class:"mb-2"},$=e("label",{class:"form-label fw-bold",for:"imgFile"},[n("\u7522\u54C1\u4E3B\u8981\u5716\u7247 "),e("small",{class:"text-danger"},"\u203B \u5716\u7247\u5927\u5C0F\u4E0D\u53EF\u8D85\u904E 3 MB")],-1),ee={class:"btn-group w-100 mb-1",role:"group","aria-label":"Upload image button group"},te={key:1,class:"d-flex justify-content-center opacity-50 py-2"},se=e("div",{class:"spinner-border text-dark",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),oe=[se],le=["src"],ae=["value"],ne={key:0},ie={key:0},de={class:"input-group"},re=["onUpdate:modelValue"],ce=["onClick"],me={class:"col-sm-8"},be=e("ul",{class:"nav nav-tabs mb-3",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"info-tab","data-bs-toggle":"tab","data-bs-target":"#info",type:"button",role:"tab","aria-controls":"info","aria-selected":"true"}," \u5FC5\u586B\u9805\u76EE ")]),e("li",{class:"nav-item"},[e("button",{class:"nav-link",id:"detail-tab","data-bs-toggle":"tab","data-bs-target":"#detail",type:"button",role:"tab","aria-controls":"detail","aria-selected":"false"}," \u8A73\u7D30\u8CC7\u6599 ")]),e("li",{class:"nav-item"},[e("button",{class:"nav-link",id:"tags-tab","data-bs-toggle":"tab","data-bs-target":"#tags",type:"button",role:"tab","aria-controls":"tags","aria-selected":"false"}," \u7279\u8272\u6A19\u7C64 ")])],-1),ue={class:"tab-content",id:"myTabContent"},ge={class:"tab-pane fade show active",id:"info",role:"tabpanel","aria-labelledby":"info-tab"},pe={class:"row gx-3"},he={class:"mb-3 col-md-6"},_e=e("label",{for:"title",class:"form-label fw-bold"},[n("\u6A19\u984C "),e("span",{class:"text-danger"},"*")],-1),fe={class:"mb-3 col-md-6"},ve=e("label",{for:"category",class:"form-label fw-bold"},[n("\u5206\u985E "),e("span",{class:"text-danger"},"*")],-1),Ce=M('<option value="" disabled>\u8ACB\u9078\u64C7</option><option value="\u516C\u5BD3">\u516C\u5BD3</option><option value="\u83EF\u5EC8">\u83EF\u5EC8</option><option value="\u5927\u6A13">\u5927\u6A13</option><option value="\u5225\u5885">\u5225\u5885</option>',5),ye=[Ce],ke={class:"row gx-3"},xe={class:"mb-3 col-md-6"},we=e("label",{for:"origin_price",class:"form-label fw-bold"},[n("\u7E3D\u50F9 "),e("span",{class:"form-text"}," (\u842C) "),e("span",{class:"text-danger"},"*")],-1),Ue={class:"mb-3 col-md-6"},Ve=e("label",{for:"price",class:"form-label fw-bold"},[n("\u552E\u50F9 "),e("span",{class:"form-text"}," (\u842C) "),e("span",{class:"text-danger"},"*")],-1),Le={class:"row"},Me={class:"mb-3 col-md-6"},Fe=e("label",{for:"address",class:"form-label fw-bold"},[n("\u5730\u5740 "),e("span",{class:"text-danger"},"*")],-1),Pe={class:"mb-3 col-md-6"},Be=e("label",{for:"location",class:"form-label fw-bold"},[n("\u5EA7\u6A19 "),e("span",{class:"text-danger"},"*")],-1),Se={class:"row"},Te={class:"mb-3"},Ne=e("label",{for:"content",class:"form-label fw-bold"},[n("\u7269\u4EF6\u8A73\u60C5 "),e("span",{class:"text-danger"},"*")],-1),De={class:"tab-pane fade",id:"detail",role:"tabpanel","aria-labelledby":"detail-tab"},qe={class:"row gx-3"},Ae={class:"mb-3 col-md-4"},Re=e("label",{for:"category",class:"form-label fw-bold"},[n("\u5EFA\u7269\u767B\u8A18 "),e("span",{class:"form-text"}," (\u576A) ")],-1),Ee={class:"mb-3 col-md-4"},Ie=e("label",{for:"price",class:"form-label fw-bold"},[n("\u4E3B\u5EFA\u7269 "),e("span",{class:"form-text"}," (\u576A) ")],-1),Oe={class:"mb-3 col-md-4"},Ge=e("label",{for:"houseAge",class:"form-label fw-bold"},[n("\u5C4B\u9F61 "),e("span",{class:"form-text"}," (\u5E74) ")],-1),He={class:"row gx-3"},We={class:"mb-3 col-md-4"},je=e("label",{for:"floor",class:"form-label fw-bold"},[n("\u6A13/\u6A13 "),e("span",{class:"form-text"}," (\u516C\u5BD35\u2193, \u83EF\u5EC85-10, \u5927\u6A1310\u2191) ")],-1),ze={class:"mb-3 col-md-4"},Je=e("label",{for:"pattern",class:"form-label fw-bold"},[n("\u683C\u5C40 "),e("span",{class:"form-text"}," (\u623F/\u5EF3/\u885B/\u5BA4) ")],-1),Ke={class:"mb-3 col-md-4"},Qe=e("label",{for:"category",class:"form-label fw-bold"},"\u5EFA\u7269\u671D\u5411",-1),Xe=M('<option value="" disabled>\u8ACB\u9078\u64C7</option><option value="\u5317">\u5317\u2191</option><option value="\u6771\u5317">\u6771\u5317\u2197</option><option value="\u6771">\u6771\u2192</option><option value="\u6771\u5357">\u6771\u5357\u2198</option><option value="\u5357">\u5357\u2193</option><option value="\u897F\u5357">\u897F\u5357\u2199</option><option value="\u897F">\u897F\u2190</option><option value="\u897F\u5317">\u897F\u5317\u2196</option>',9),Ye=[Xe],Ze={class:"row gx-3"},$e={class:"mb-3 col-md-4"},et=e("label",{for:"parking",class:"form-label fw-bold"},"\u8ECA\u4F4D ",-1),tt={class:"mb-3 col-md-4"},st=e("label",{for:"parkingPrice",class:"form-label fw-bold"},[n("\u8ECA\u4F4D\u50F9\u683C "),e("span",{class:"form-text"}," (\u842C) ")],-1),ot=["disabled"],lt={class:"mb-3 col-md-4"},at=e("label",{for:"managementFee",class:"form-label fw-bold"},[n("\u7BA1\u7406\u8CBB "),e("span",{class:"form-text"}," (\u5143/\u6708) ")],-1),nt=["disabled"],it={class:"tab-pane fade",id:"tags",role:"tabpanel","aria-labelledby":"tags-tab"},dt={class:"row"},rt={class:"mb-3"},ct=e("label",{for:"",class:"form-label fw-bold fs-6"},"\u7279\u8272\u6A19\u7C64",-1),mt={class:"d-flex flex-wrap"},bt={class:"me-1 mb-1"},ut=e("label",{for:"decorate",class:"btn btn-sm btn-outline-secondary"},"\u6709\u88DD\u6F62",-1),gt={class:"me-1 mb-1"},pt=e("label",{for:"hasView",class:"btn btn-sm btn-outline-secondary"},"\u6709\u666F\u89C0",-1),ht={class:"me-1 mb-1"},_t=e("label",{for:"balcony",class:"btn btn-sm btn-outline-secondary"},"\u6709\u967D\u53F0 ",-1),ft={class:"me-1 mb-1"},vt=e("label",{for:"bathWindow",class:"btn btn-sm btn-outline-secondary"},"\u5EC1\u6240\u958B\u7A97",-1),Ct={class:"me-1 mb-1"},yt=e("label",{for:"roomsHasWindow",class:"btn btn-sm btn-outline-secondary"},"\u623F\u9593\u7686\u6709\u7A97 ",-1),kt={class:"me-1 mb-1"},xt=e("label",{for:"security",class:"btn btn-sm btn-outline-secondary"},"\u8B66\u885B\u7BA1\u7406",-1),wt={class:"me-1 mb-1"},Ut=e("label",{for:"barrierFree",class:"btn btn-sm btn-outline-secondary"},"\u7121\u969C\u7919\u7A7A\u9593",-1),Vt={class:"me-1 mb-1"},Lt=e("label",{for:"handleGarbage",class:"btn btn-sm btn-outline-secondary"},"\u5177\u5783\u573E\u8655\u7406",-1),Mt={class:"me-1 mb-1"},Ft=e("label",{for:"gym",class:"btn btn-sm btn-outline-secondary"},"\u5065\u8EAB\u623F",-1),Pt={class:"me-1 mb-1"},Bt=e("label",{for:"garden",class:"btn btn-sm btn-outline-secondary"},"\u82B1\u5712",-1),St={class:"me-1 mb-1"},Tt=e("label",{for:"swimmingPool",class:"btn btn-sm btn-outline-secondary"},"\u6E38\u6CF3\u6C60",-1),Nt={class:"me-1 mb-1"},Dt=e("label",{for:"hasParking",class:"btn btn-sm btn-outline-secondary"},"\u6709\u8ECA\u4F4D",-1),qt={class:"me-1 mb-1"},At=e("label",{for:"blankHouse",class:"btn btn-sm btn-outline-secondary"},"\u6BDB\u80DA\u5C4B",-1),Rt={class:"row"},Et={class:"mb-3"},It=e("label",{for:"",class:"form-label fw-bold fs-6"},"\u9130\u8FD1\u8A2D\u65BD",-1),Ot={class:"d-flex"},Gt={class:"me-1 mb-1"},Ht=e("label",{for:"metro",class:"btn btn-sm btn-outline-secondary"},"\u8FD1\u6377\u904B",-1),Wt={class:"me-1 mb-1"},jt=e("label",{for:"park",class:"btn btn-sm btn-outline-secondary"},"\u8FD1\u516C\u5712",-1),zt={class:"me-1 mb-1"},Jt=e("label",{for:"market",class:"btn btn-sm btn-outline-secondary"},"\u8FD1\u5E02\u5834",-1),Kt={class:"me-1 mb-1"},Qt=e("label",{for:"school",class:"btn btn-sm btn-outline-secondary"},"\u8FD1\u5B78\u6821",-1),Xt={class:"me-1 mb-1"},Yt=e("label",{for:"department",class:"btn btn-sm btn-outline-secondary"},"\u8FD1\u5546\u5708",-1),Zt={class:"row"},$t={class:"mb-3"},es=e("label",{for:"",class:"form-label fw-bold fs-6"},"\u7269\u4EF6\u72C0\u6CC1",-1),ts={class:"d-flex"},ss={class:"me-1 mb-1"},os=e("label",{for:"new",class:"btn btn-sm btn-outline-secondary"},"\u65B0\u4E0A\u67B6",-1),ls={class:"me-1 mb-1"},as=e("label",{for:"lowPrice",class:"btn btn-sm btn-outline-secondary"},"\u4F4E\u7E3D\u50F9",-1),ns={class:"me-1 mb-1"},is=e("label",{for:"hottest",class:"btn btn-sm btn-outline-secondary"},"\u5E97\u9577\u63A8\u85A6",-1),ds={class:"mb-3"},rs=e("label",{for:"",class:"form-label fw-bold"},[n("\u986F\u793A\u72C0\u6CC1 "),e("span",{class:"text-danger"},"*")],-1),cs={class:"d-flex"},ms={class:"form-check form-check-inline"},bs=e("label",{class:"form-check-label text-success",for:"enabled1"},"\u986F\u793A",-1),us={class:"form-check form-check-inline"},gs=e("label",{class:"form-check-label text-secondary",for:"enabled2"},"\u4E0D\u986F\u793A",-1),ps={class:"form-check form-check-inline"},hs=e("label",{class:"form-check-label text-warning",for:"enabled3"},"\u8655\u7406\u4E2D",-1),_s={class:"form-check form-check-inline"},fs=e("label",{class:"form-check-label text-muted",for:"enabled4"},"\u5DF2\u7D50\u6848",-1),vs={class:"modal-footer"},Cs=e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," \u53D6\u6D88 ",-1),ys={class:"spinner-border spinner-border-sm"};function ks(c,s,b,v,t,u){return i(),d("div",I,[e("div",O,[e("div",G,[e("div",H,[e("h5",W,[b.isNew?(i(),d("span",j,"\u65B0\u589E\u6848\u4EF6")):(i(),d("span",z,"\u7DE8\u8F2F\u6848\u4EF6"))]),J]),e("div",K,[e("div",Q,[e("div",X,[e("div",Y,[e("div",Z,[$,e("div",ee,[e("button",{type:"button",class:w(["btn",t.imageUploadType==="upload"?"btn-primary":"btn-outline-primary"]),onClick:s[0]||(s[0]=o=>t.imageUploadType="upload")}," \u4E0A\u50B3\u5716\u7247 ",2),e("button",{type:"button",class:w(["btn",t.imageUploadType==="url"?"btn-primary":"btn-outline-primary"]),onClick:s[1]||(s[1]=o=>t.imageUploadType="url")}," \u8F38\u5165\u7DB2\u5740 ",2)]),l(e("div",null,[t.status.fileUploading?(i(),d("div",te,oe)):(i(),d("input",{key:0,type:"file",class:"form-control",id:"imgFile",placeholder:"\u8ACB\u9078\u64C7\u8981\u4E0A\u50B3\u7684\u5716\u7247\u6A94\u6848",ref:"fileInput",onChange:s[2]||(s[2]=(...o)=>u.uploadFile&&u.uploadFile(...o))},null,544))],512),[[y,t.imageUploadType==="upload"]]),l(e("input",{type:"text",class:"form-control",placeholder:"\u8ACB\u8F38\u5165\u5716\u7247\u7DB2\u5740","aria-label":"\u8F38\u5165\u5716\u7247\u7DB2\u5740","aria-describedby":"button-addon2","onUpdate:modelValue":s[3]||(s[3]=o=>t.targetCase.imageUrl=o)},null,512),[[y,t.imageUploadType==="url"],[m,t.targetCase.imageUrl]])]),l(e("div",null,[e("img",{class:"img-fluid mb-1",src:t.targetCase.imageUrl,alt:"\u7522\u54C1\u4E3B\u5716\u7247",title:"\u7522\u54C1\u4E3B\u5716\u7247"},null,8,le),e("input",{type:"text",class:"form-control mb-1","aria-label":"\u6B32\u4E0A\u50B3\u7522\u54C1\u5716\u7247",value:t.targetCase.imageUrl,disabled:"",readonly:""},null,8,ae)],512),[[y,t.targetCase.imageUrl]])]),t.targetCase.imagesUrl?(i(),d("div",ne,[t.targetCase.imagesUrl[t.targetCase.imagesUrl.length-1]||!t.targetCase.imagesUrl.length?(i(),d("div",ie,[e("button",{class:"btn btn-outline-primary btn-sm d-block w-100 my-2",onClick:s[4]||(s[4]=o=>t.targetCase.imagesUrl.push(""))}," \u65B0\u589E\u5716\u7247 ")])):g("",!0),(i(!0),d(L,null,R(t.targetCase.imagesUrl,(o,_)=>(i(),d("div",{class:"mb-2",key:_},[e("div",de,[l(e("input",{type:"url",class:"form-control","onUpdate:modelValue":C=>t.targetCase.imagesUrl[_]=C,placeholder:"\u8ACB\u8F38\u5165\u9023\u7D50"},null,8,re),[[m,t.targetCase.imagesUrl[_]]]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:C=>t.targetCase.imagesUrl.splice(_,1)}," \u79FB\u9664 ",8,ce)])]))),128))])):g("",!0)]),e("div",me,[be,e("div",ue,[e("div",ge,[e("div",pe,[e("div",he,[_e,l(e("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":s[5]||(s[5]=o=>t.targetCase.title=o),placeholder:"\u8ACB\u8F38\u5165\u6A19\u984C"},null,512),[[m,t.targetCase.title,void 0,{trim:!0}]])]),e("div",fe,[ve,l(e("select",{class:"form-select",id:"category","onUpdate:modelValue":s[6]||(s[6]=o=>t.targetCase.category=o)},ye,512),[[U,t.targetCase.category]])])]),e("div",ke,[e("div",xe,[we,l(e("input",{type:"number",class:"form-control",id:"origin_price",min:"0","onUpdate:modelValue":s[7]||(s[7]=o=>t.targetCase.origin_price=o),placeholder:"\u8ACB\u8F38\u5165\u7E3D\u50F9"},null,512),[[m,t.targetCase.origin_price,void 0,{number:!0}]])]),e("div",Ue,[Ve,l(e("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":s[8]||(s[8]=o=>t.targetCase.price=o),min:"0",placeholder:"\u8ACB\u8F38\u5165\u552E\u50F9"},null,512),[[m,t.targetCase.price,void 0,{number:!0}]])])]),e("div",Le,[e("div",Me,[Fe,l(e("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":s[9]||(s[9]=o=>t.targetCase.description=o),placeholder:"\u8ACB\u8F38\u5165\u5730\u5740"},null,512),[[m,t.targetCase.description,void 0,{trim:!0}]])]),e("div",Pe,[Be,l(e("input",{type:"text",class:"form-control",id:"location","onUpdate:modelValue":s[10]||(s[10]=o=>t.targetCase.location=o),placeholder:"\u8ACB\u8F38\u5165\u5EA7\u6A19 ex: xxxx,yyyy..."},null,512),[[m,t.targetCase.location,void 0,{trim:!0}]])])]),e("div",Se,[e("div",Te,[Ne,l(e("textarea",{type:"text",class:"form-control",id:"content","onUpdate:modelValue":s[11]||(s[11]=o=>t.targetCase.content=o),placeholder:"\u8ACB\u8F38\u5165\u7269\u4EF6\u8A73\u60C5"},null,512),[[m,t.targetCase.content]])])])]),e("div",De,[e("div",qe,[e("div",Ae,[Re,l(e("input",{type:"text",class:"form-control",id:"category","onUpdate:modelValue":s[12]||(s[12]=o=>t.targetCase.squareFeet=o),placeholder:"\u8ACB\u8F38\u5165\u5EFA\u7269\u767B\u8A18"},null,512),[[m,t.targetCase.squareFeet,void 0,{number:!0}]])]),e("div",Ee,[Ie,l(e("input",{type:"text",class:"form-control",id:"mainSquareFeet","onUpdate:modelValue":s[13]||(s[13]=o=>t.targetCase.mainSquareFeet=o),placeholder:"\u4E3B\u5EFA\u7269\u576A\u6578"},null,512),[[m,t.targetCase.mainSquareFeet,void 0,{number:!0}]])]),e("div",Oe,[Ge,l(e("input",{type:"number",class:"form-control",id:"houseAge","onUpdate:modelValue":s[14]||(s[14]=o=>t.targetCase.houseAge=o),placeholder:"\u8ACB\u8F38\u5165\u5C4B\u9F61"},null,512),[[m,t.targetCase.houseAge,void 0,{number:!0}]])])]),e("div",He,[e("div",We,[je,l(e("input",{type:"text",class:"form-control",id:"floor","onUpdate:modelValue":s[15]||(s[15]=o=>t.targetCase.floor=o),placeholder:"\u8ACB\u8F38\u5165\u6A13\u5C64"},null,512),[[m,t.targetCase.floor,void 0,{trim:!0}]])]),e("div",ze,[Je,l(e("input",{type:"text",class:"form-control",id:"pattern","onUpdate:modelValue":s[16]||(s[16]=o=>t.targetCase.pattern=o),placeholder:"\u8ACB\u8F38\u5165\u683C\u5C40 (\u623F/\u5EF3/\u885B/\u5BA4)"},null,512),[[m,t.targetCase.pattern,void 0,{trim:!0}]])]),e("div",Ke,[Qe,l(e("select",{class:"form-select",id:"category","onUpdate:modelValue":s[17]||(s[17]=o=>t.targetCase.direction=o)},Ye,512),[[U,t.targetCase.direction]])])]),e("div",Ze,[e("div",$e,[et,l(e("input",{type:"text",class:"form-control",id:"parking","onUpdate:modelValue":s[18]||(s[18]=o=>t.targetCase.parking=o),placeholder:"\u8ACB\u8F38\u5165\u8ECA\u4F4D"},null,512),[[m,t.targetCase.parking,void 0,{trim:!0}]])]),e("div",tt,[st,l(e("input",{disabled:!t.targetCase.parking,type:"number",class:"form-control",id:"parkingPrice","onUpdate:modelValue":s[19]||(s[19]=o=>t.targetCase.parkingPrice=o),min:"0",placeholder:"\u8ACB\u8F38\u5165\u8ECA\u4F4D\u50F9\u683C"},null,8,ot),[[m,t.targetCase.parkingPrice,void 0,{number:!0}]])]),e("div",lt,[at,l(e("input",{disabled:t.targetCase.squareFeet===t.targetCase.mainSquareFeet,type:"number",class:"form-control",id:"managementFee","onUpdate:modelValue":s[20]||(s[20]=o=>t.targetCase.managementFee=o),min:"0",placeholder:"\u8ACB\u8F38\u5165\u7BA1\u7406\u8CBB"},null,8,nt),[[m,t.targetCase.managementFee,void 0,{number:!0}]])])])]),e("div",it,[e("div",dt,[e("div",rt,[ct,e("div",mt,[e("div",bt,[l(e("input",{type:"checkbox",id:"decorate",class:"btn-check",value:"\u6709\u88DD\u6F62","onUpdate:modelValue":s[21]||(s[21]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),ut]),e("div",gt,[l(e("input",{type:"checkbox",id:"hasView",class:"btn-check",value:"\u6709\u666F\u89C0","onUpdate:modelValue":s[22]||(s[22]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),pt]),e("div",ht,[l(e("input",{type:"checkbox",id:"balcony",class:"btn-check",value:"\u6709\u967D\u53F0","onUpdate:modelValue":s[23]||(s[23]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),_t]),e("div",ft,[l(e("input",{type:"checkbox",id:"bathWindow",class:"btn-check",value:"\u5EC1\u6240\u958B\u7A97","onUpdate:modelValue":s[24]||(s[24]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),vt]),e("div",Ct,[l(e("input",{type:"checkbox",id:"roomsHasWindow",class:"btn-check",value:"\u623F\u9593\u7686\u6709\u7A97","onUpdate:modelValue":s[25]||(s[25]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),yt]),e("div",kt,[l(e("input",{type:"checkbox",id:"security",class:"btn-check",value:"\u8B66\u885B\u7BA1\u7406","onUpdate:modelValue":s[26]||(s[26]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),xt]),e("div",wt,[l(e("input",{type:"checkbox",id:"barrierFree",class:"btn-check",value:"\u7121\u969C\u7919\u7A7A\u9593","onUpdate:modelValue":s[27]||(s[27]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Ut]),e("div",Vt,[l(e("input",{type:"checkbox",id:"handleGarbage",class:"btn-check",value:"\u5177\u5783\u573E\u8655\u7406","onUpdate:modelValue":s[28]||(s[28]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Lt]),e("div",Mt,[l(e("input",{type:"checkbox",id:"gym",class:"btn-check",value:"\u5065\u8EAB\u623F","onUpdate:modelValue":s[29]||(s[29]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Ft]),e("div",Pt,[l(e("input",{type:"checkbox",id:"garden",class:"btn-check",value:"\u82B1\u5712","onUpdate:modelValue":s[30]||(s[30]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Bt]),e("div",St,[l(e("input",{type:"checkbox",id:"swimmingPool",class:"btn-check",value:"\u6E38\u6CF3\u6C60","onUpdate:modelValue":s[31]||(s[31]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Tt]),e("div",Nt,[l(e("input",{type:"checkbox",id:"hasParking",class:"btn-check",value:"\u6709\u8ECA\u4F4D","onUpdate:modelValue":s[32]||(s[32]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Dt]),e("div",qt,[l(e("input",{type:"checkbox",id:"blankHouse",class:"btn-check",value:"\u6BDB\u80DA\u5C4B","onUpdate:modelValue":s[33]||(s[33]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),At])])])]),e("div",Rt,[e("div",Et,[It,e("div",Ot,[e("div",Gt,[l(e("input",{type:"checkbox",id:"metro",class:"btn-check",value:"\u8FD1\u6377\u904B","onUpdate:modelValue":s[34]||(s[34]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Ht]),e("div",Wt,[l(e("input",{type:"checkbox",id:"park",class:"btn-check",value:"\u8FD1\u516C\u5712","onUpdate:modelValue":s[35]||(s[35]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),jt]),e("div",zt,[l(e("input",{type:"checkbox",id:"market",class:"btn-check",value:"\u8FD1\u5E02\u5834","onUpdate:modelValue":s[36]||(s[36]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Jt]),e("div",Kt,[l(e("input",{type:"checkbox",id:"school",class:"btn-check",value:"\u8FD1\u5B78\u6821","onUpdate:modelValue":s[37]||(s[37]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Qt]),e("div",Xt,[l(e("input",{type:"checkbox",id:"department",class:"btn-check",value:"\u8FD1\u5546\u5708","onUpdate:modelValue":s[38]||(s[38]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),Yt])])])]),e("div",Zt,[e("div",$t,[es,e("div",ts,[e("div",ss,[l(e("input",{type:"checkbox",id:"new",class:"btn-check",value:"\u65B0\u4E0A\u67B6","onUpdate:modelValue":s[39]||(s[39]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),os]),e("div",ls,[l(e("input",{type:"checkbox",id:"lowPrice",class:"btn-check",value:"\u4F4E\u7E3D\u50F9","onUpdate:modelValue":s[40]||(s[40]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),as]),e("div",ns,[l(e("input",{type:"checkbox",id:"hottest",class:"btn-check",value:"\u5E97\u9577\u63A8\u85A6","onUpdate:modelValue":s[41]||(s[41]=o=>t.targetCase.tags=o)},null,512),[[r,t.targetCase.tags]]),is])])])])])]),e("div",ds,[rs,e("div",cs,[e("div",ms,[l(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[42]||(s[42]=o=>t.targetCase.is_enabled=o),name:"inlineRadioOptions",id:"enabled1",value:"1"},null,512),[[k,t.targetCase.is_enabled,void 0,{number:!0}]]),bs]),e("div",us,[l(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[43]||(s[43]=o=>t.targetCase.is_enabled=o),name:"inlineRadioOptions",id:"enabled2",value:"0"},null,512),[[k,t.targetCase.is_enabled,void 0,{number:!0}]]),gs]),e("div",ps,[l(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[44]||(s[44]=o=>t.targetCase.is_enabled=o),name:"inlineRadioOptions",id:"enabled3",value:"2"},null,512),[[k,t.targetCase.is_enabled,void 0,{number:!0}]]),hs]),e("div",_s,[l(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[45]||(s[45]=o=>t.targetCase.is_enabled=o),name:"inlineRadioOptions",id:"enabled4",value:"3"},null,512),[[k,t.targetCase.is_enabled,void 0,{number:!0}]]),fs])])])])])]),e("div",vs,[Cs,e("button",{type:"button",class:"btn btn-primary",onClick:s[46]||(s[46]=o=>c.$emit("update-product",t.targetCase))},[n(" \u78BA\u8A8D "),l(e("span",ys,null,512),[[y,b.btnLoading]])])])])])],512)}const xs=V(E,[["render",ks]]),ws={components:{AdminBreadcrumb:N,Pagination:q,CaseEditModal:xs,DelConfirmModal:A},data(){return{isLoading:!1,submitBtnLoading:!1,isNew:!1,targetCase:{imagesUrl:[],category:"",tags:[],location:""},tableTh:[{label:"\u9806\u5E8F",field:"num",thClass:"text-center",tdClass:"text-center align-middle",width:"5%"},{label:"\u6848\u4EF6\u5716\u7247",field:"imageUrl",thClass:"text-center",tdClass:"text-center align-middle",width:"5%"},{label:"\u6848\u4EF6\u540D\u7A31",field:"title",tdClass:"align-middle",width:"35%"},{label:"\u50F9\u683C",field:"price",thClass:"text-center",tdClass:"text-center align-middle",width:"10%"},{label:"\u8ECA\u4F4D\u552E\u50F9",field:"parkingPrice",thClass:"text-center",tdClass:"text-center align-middle",width:"10%"},{label:"\u662F\u5426\u986F\u793A",field:"is_enabled",thClass:"text-center",tdClass:"text-center align-middle",width:"10%"},{label:"\u64CD\u4F5C",field:"actions",sortable:!1,thClass:"text-center",tdClass:"text-center align-middle",width:"10%"}],cases:[],pagination:{},currentPage:1}},methods:{openModal(c,s){c?(this.targetCase={imagesUrl:[],category:"",unit:"\u576A",is_enabled:1,tags:[]},this.isNew=!0):(this.targetCase={...s},this.isNew=!1),this.$refs.caseModal.openModal()},updateCase(c){this.targetCase={...c},this.isLoading=!0,this.submitBtnLoading=!0;let s="https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/product",b="post",v="\u65B0\u589E\u6848\u4EF6";this.isNew||(s=`https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/product/${this.targetCase.id}`,b="put",v="\u66F4\u65B0\u6848\u4EF6"),this.$http[b](s,{data:this.targetCase}).then(t=>{this.isLoading=!1,this.submitBtnLoading=!1,this.$httpMessageState(t,v),this.$refs.caseModal.closeModal(),this.getCasesList(this.currentPage)}).catch(t=>{this.isLoading=!1,this.submitBtnLoading=!1,this.$httpMessageState(t.response,v)})},getCasesList(c=1){this.isLoading=!0,this.currentPage=c,this.$http.get(`https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/products/?page=${c}`).then(s=>{this.cases=s.data.products,this.pagination=s.data.pagination,this.isLoading=!1}).catch(s=>{this.isLoading=!1,this.$httpMessageState(s.response,"\u932F\u8AA4\u8A0A\u606F")})},openDelModal(c){this.targetCase={...c},this.$refs.delModal.openModal()},deleteCase(){this.isLoading=!0,this.submitBtnLoading=!0,this.$http.delete(`https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/product/${this.targetCase.id}`).then(c=>{this.isLoading=!1,this.submitBtnLoading=!1,this.$httpMessageState(c,"\u522A\u9664\u6848\u4EF6"),this.$refs.delModal.closeModal(),this.getCasesList(this.currentPage)}).catch(c=>{this.isLoading=!1,this.submitBtnLoading=!1,this.$httpMessageState(c.response,"\u522A\u9664\u6848\u4EF6")})}},mounted(){this.getCasesList()}},Us={class:"main-content container-fluid px-4 bg-light"},Vs=e("h3",{class:"my-4 fw-bold"},"\u6848\u4EF6\u7BA1\u7406",-1),Ls={class:"text-end my-2"},Ms=e("i",{class:"bi bi-plus-square"},null,-1),Fs={key:0},Ps=["src"],Bs={key:1},Ss={key:2},Ts={key:3},Ns={key:0},Ds={key:1},qs={key:4},As={key:0,class:"text-success"},Rs={key:1,class:"text-warning"},Es={key:2,class:"text-muted"},Is={key:3,class:"text-danger"},Os={key:5,class:"btn-group"},Gs=["onClick"],Hs=e("i",{class:"bi bi-pencil-square"},null,-1),Ws=["onClick"],js=e("i",{class:"bi bi-trash3"},null,-1);function zs(c,s,b,v,t,u){const o=p("LoadingComponent"),_=p("AdminBreadcrumb"),C=p("RouterLink"),F=p("Pagination"),P=p("VueGoodTable"),B=p("CaseEditModal"),S=p("DelConfirmModal");return i(),d(L,null,[e("div",Us,[h(o,{isLoading:t.isLoading},null,8,["isLoading"]),Vs,h(_),e("div",Ls,[e("button",{type:"button",class:"btn btn-success text-white shadow-sm",onClick:s[0]||(s[0]=a=>u.openModal(!0))},[Ms,n(" \u5EFA\u7ACB\u65B0\u7684\u6848\u4EF6 ")])]),h(P,{columns:t.tableTh,rows:t.cases,"pagination-options":{enabled:!0},styleClass:"vgt-table striped condensed table table-hover"},{"table-row":x(a=>[a.column.field==="imageUrl"?(i(),d("div",Fs,[e("img",{class:"img-fluid",src:a.row.imageUrl,style:{"max-width":"100px"},alt:""},null,8,Ps)])):g("",!0),a.column.field==="title"?(i(),d("div",Bs,[e("span",{class:w(["badge tag__element me-1",{"tag__element--main":a.row.category==="\u83EF\u5EC8","tag__element--sec":a.row.category==="\u516C\u5BD3","tag__element--third":a.row.category==="\u5225\u5885","tag__element--fourth":a.row.category==="\u5927\u6A13"}])},f(a.row.category),3),h(C,{to:`/case/${a.row.id}`,target:"_blank"},{default:x(()=>[n(f(a.row.title),1)]),_:2},1032,["to"])])):g("",!0),a.column.field==="price"?(i(),d("div",Ss,[n(f(c.$format.currencyFormat(a.row.origin_price))+"\u842C / ",1),e("span",{class:w({"text-danger":a.row.origin_price>a.row.price})},f(c.$format.currencyFormat(a.row.price))+"\u842C",3)])):g("",!0),a.column.field==="parkingPrice"?(i(),d("div",Ts,[a.row.parkingPrice>0?(i(),d("span",Ns,f(a.row.parkingPrice)+"\u842C",1)):(i(),d("span",Ds,"--"))])):g("",!0),a.column.field==="is_enabled"?(i(),d("div",qs,[a.row.is_enabled=="1"?(i(),d("span",As,"\u986F\u793A")):a.row.is_enabled=="2"?(i(),d("span",Rs,"\u8655\u7406\u4E2D")):a.row.is_enabled=="3"?(i(),d("span",Es,"\u5DF2\u7D50\u6848")):(i(),d("span",Is,"\u4E0D\u986F\u793A"))])):g("",!0),a.column.field==="actions"?(i(),d("div",Os,[e("button",{type:"button",class:"btn btn-primary btn-sm",onClick:T=>u.openModal(!1,a.row)},[Hs,n(" \u7DE8\u8F2F ")],8,Gs),e("button",{type:"button",class:"btn btn-danger btn-sm",onClick:T=>u.openDelModal(a.row)},[js,n(" \u522A\u9664 ")],8,Ws)])):g("",!0)]),"pagination-bottom":x(()=>[h(F,{pages:t.pagination,onEmitPages:u.getCasesList},null,8,["pages","onEmitPages"])]),_:1},8,["columns","rows"])]),h(B,{product:t.targetCase,isNew:t.isNew,btnLoading:t.submitBtnLoading,onUpdateProduct:u.updateCase,ref:"caseModal"},null,8,["product","isNew","btnLoading","onUpdateProduct"]),h(S,{item:t.targetCase,onDelItem:u.deleteCase,btnLoading:t.submitBtnLoading,ref:"delModal"},{"modal-text":x(()=>[n(" \u6848\u4EF6\u540D\u7A31\uFF1A"+f(t.targetCase.title),1)]),_:1},8,["item","onDelItem","btnLoading"])],64)}const Ys=V(ws,[["render",zs]]);export{Ys as default};
