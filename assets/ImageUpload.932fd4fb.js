import{_ as u,r as h,o,c as l,a as m,b as t,F as f,y as _,u as r}from"./index.b5b273c8.js";const g={data(){return{isLoading:!1,uploadImagesUrl:[]}},methods:{uploadFile(){const n=this.$refs.fileInput.files[0],s=new FormData;s.append("file-to-upload",n),this.$http.post("https://vue3-course-api.hexschool.io/v2//api/found_houses_v2/admin/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{e.data.success?(this.$refs.fileInput.value="",this.$httpMessageState(e,"\u5716\u7247\u4E0A\u50B3\u7D50\u679C",e.data.message),this.uploadImagesUrl.push(e.data.imageUrl)):(this.$refs.fileInput.value="",this.$httpMessageState(e,"\u5716\u7247\u4E0A\u50B3\u7D50\u679C",e.data.message),console.log(e))}).catch(e=>{this.$httpMessageState(e.response,"\u5716\u7247\u5931\u6557")})}}},b={class:"main-content container-fluid px-4"},y=t("h3",{class:"mt-4 fw-bold"},"\u5716\u7247\u4E0A\u50B3",-1),v={class:"table table-hover table-striped mt-4"},$=t("thead",{class:"table-dark"},[t("tr",null,[t("th",{width:"5%",style:{"text-align":"center"}},"\u9806\u5E8F"),t("th",{width:"10%"},"\u6848\u4EF6\u5716\u7247"),t("th",{width:"85%"},"\u5716\u7247URL")])],-1),F={style:{"text-align":"center"}},I=["src"],L={style:{"word-break":"break-all"}};function x(n,s,e,k,i,d){const c=h("LoadingComponent");return o(),l("div",b,[m(c,{isLoading:i.isLoading},null,8,["isLoading"]),y,t("input",{type:"file",id:"customFile",class:"form-control",ref:"fileInput",onChange:s[0]||(s[0]=(...a)=>d.uploadFile&&d.uploadFile(...a))},null,544),t("table",v,[$,t("tbody",null,[(o(!0),l(f,null,_(i.uploadImagesUrl,(a,p)=>(o(),l("tr",{key:a,style:{"vertical-align":"middle"}},[t("td",F,r(p+1),1),t("td",null,[t("img",{class:"img-fluid",src:a},null,8,I)]),t("td",L,r(a),1)]))),128))])])])}const U=u(g,[["render",x]]);export{U as default};
